/*
  ========================================
  $Form
  ========================================
*/

@use '../abstracts' as a;
@use '../base' as b;

// Reset

legend {
  padding: 0;
  display: table;
}

fieldset {
  border: 0;
  padding: 0.01em 0 0 0;
  min-width: 0;
}


// Menu

.form-menu {
	overflow: hidden;
}

// fieldset
.panel-menu {
	display: flex;
	flex-direction: column;
	gap: 12px;
	@extend %slide-right;

		@include a.bp(large) {
			max-width: 634px;
	    margin: 0 auto;
		}

}

.card-menu {
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: relative;
  box-shadow: 0px 4.01149px 15.0431px 0px rgba(0, 0, 0, 0.10);
  border-radius: 0.94rem;
  background: a.$white;
  margin-top: 12px;
  overflow: hidden;
  cursor: pointer;
}


.menu {

	// W3 recommandation
	&__checkbox {
	  position: absolute;
	  margin: -1px;
	  border: 0;
	  padding: 0;
	  width: 1px;
	  height: 1px;
	  overflow: hidden;
	  clip: rect(0 0 0 0);
	}

	&__label {
	  display: flex;
	  justify-content: space-between;
	  align-items: end;
	  gap: 25px;
	  padding: 15px;
	  width: 100%;
	  cursor: pointer;
	}

	&__headline {
	  display: flex;
	  flex-direction: column;
	  gap: 5px;
	  overflow: hidden;
	  @include b.transition-menu(margin-right);
	}

	&__heading,
	&__subhead {
	  overflow: hidden;
	  text-overflow: ellipsis;
	  white-space: nowrap;
	}

	&__pricing {
	  @include b.transition-menu();
	}

	&__box {
	  display:flex;
	  align-items:center;
	  justify-content:center;
	  position: absolute;
	  right: 0;
	  border-radius:0 0.94rem 0.94rem 0rem;
	  background:#99E2D0;
	  width: 60px;
	  height: 100%;
	  @include b.transition-menu();
	  transform: translateX(100%); 
	}

	&__box::after{
		@extend %flex--center;
	  content: "\f00c";
	  font: var(--fa-font-solid);
	  border-radius: 50% 50%;
	  background: a.$white;
	  width: 1.15rem;
	  height: 1.15rem;  
	  color: a.$morning-glory;
	  animation: spinningOut 500ms ease-out;
	}

}

.menu__checkbox:checked ~ * .menu__headline {
  margin-right: 60px;
}

.menu__checkbox:checked ~ * .menu__pricing {
  transform: translateX(-60px);
}

.menu__checkbox:checked ~ .menu__box {
  transform: translateX(0);
}

.menu__checkbox:checked ~ .menu__box::after{
  animation: spinningIn 450ms 50ms ease-in;
}




// keyframes

@keyframes crescendo {
  0% {
    opacity: 1;
    
  }
  50% {
    transform: translateX(0);
    opacity: 0.7;
  }
  100% {
    opacity: 0;
    transform:translateX(100%);
  }
}
@keyframes spinningIn {
  0% {
    transform: rotate(360deg);
    scale:0;
    opacity:0;
  }
  10% {
    transform: rotate(300deg);
    scale:0.3;
    opacity:0.3;
  }
  100% {
    transform: rotate(0deg);
    scale:1;
    opacity:1;
  }
}

@keyframes spinningOut {
  0% {
    transform: rotate(0deg);
    opacity: 1;
    scale: 1.5;
  }
  10% {
    transform: rotate(10deg);
    opacity: 1;
    scale: 1.25;
  }
  100% {
    transform: rotate(360deg);
    opacity: 0;
    scale: 0.3;
  }
}